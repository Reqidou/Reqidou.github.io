<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="JS深入学习, 一个小小小">
    <meta name="description" content="Js相关1.暂时性死区123456if(1) &amp;#123;  a = 10   //在当前块作用域中存在a使用let/const声明的情况下，给a赋值10时，只会在当前作用域找变量a，    // 而这时，还未到声明时候，所以控制台Erro">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>JS深入学习 | 一个小小小</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">一个小小小</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">一个小小小</div>
        <div class="logo-desc">
            
            Hexo创建的博客
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JS深入学习</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/JavaScript/">
                                <span class="chip bg-color">JavaScript</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-09-25
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-09-25
                </div>
                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Js相关"><a href="#Js相关" class="headerlink" title="Js相关"></a>Js相关</h1><h2 id="1-暂时性死区"><a href="#1-暂时性死区" class="headerlink" title="1.暂时性死区"></a>1.暂时性死区</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  a = <span class="number">10</span></span><br><span class="line">   <span class="comment">//在当前块作用域中存在a使用let/const声明的情况下，给a赋值10时，只会在当前作用域找变量a，</span></span><br><span class="line">    <span class="comment">// 而这时，还未到声明时候，所以控制台Error:Cannot access &#x27;a&#x27; before initialization</span></span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-Object-defineProperty"><a href="#2-Object-defineProperty" class="headerlink" title="2.Object.defineProperty"></a>2.Object.defineProperty</h2><p>Object.defineProperty(target, key, options)</p>
<ul>
<li>value：给target[key]设置初始值</li>
<li>get：调用target[key]时触发</li>
<li>set：设置target[key]时触发</li>
<li>writable：规定target[key]是否可被重写，默认false</li>
<li>enumerable：规定了key是否会出现在target的枚举属性中，默认为false</li>
<li>configurable：规定了能否改变options，以及删除key属性，默认false，具体详细请看<a href="https://link.juejin.cn/?target=https://blog.csdn.net/getTheCheeseOfGod/article/details/92411642">Object.defineProperty函数的configurable配置</a></li>
</ul>
<h2 id="3-高阶函数"><a href="#3-高阶函数" class="headerlink" title="3.高阶函数"></a>3.高阶函数</h2><p>JavaScript的函数其实都指向某个变量。既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">absHigher</span>(<span class="params">x, y, fn</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fn</span>(x) + <span class="title function_">fn</span>(y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">absHigher</span>(-<span class="number">5.2</span>, <span class="number">2</span>, <span class="title class_">Math</span>.<span class="property">abs</span>));</span><br></pre></td></tr></table></figure>

<h2 id="4-函数柯里化"><a href="#4-函数柯里化" class="headerlink" title="4.函数柯里化"></a>4.函数柯里化</h2><h3 id="4-1介绍"><a href="#4-1介绍" class="headerlink" title="4.1介绍"></a>4.1介绍</h3><p>把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curryingAdd</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">curryingAdd</span>(<span class="number">1</span>)(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>

<h3 id="4-2使用样例"><a href="#4-2使用样例" class="headerlink" title="4.2使用样例"></a>4.2使用样例</h3><h4 id="4-2-1参数复用"><a href="#4-2-1参数复用" class="headerlink" title="4.2.1参数复用"></a>4.2.1参数复用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正常正则验证字符串 reg.test(txt)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通情况</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">check</span>(<span class="params">reg, txt</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> reg.<span class="title function_">test</span>(txt)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">check</span>(<span class="regexp">/\d+/g</span>, <span class="string">&#x27;test&#x27;</span>)       <span class="comment">//false</span></span><br><span class="line"><span class="title function_">check</span>(<span class="regexp">/[a-z]+/g</span>, <span class="string">&#x27;test&#x27;</span>)    <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Currying后</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">curryingCheck</span>(<span class="params">reg</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">txt</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> reg.<span class="title function_">test</span>(txt)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hasNumber = <span class="title function_">curryingCheck</span>(<span class="regexp">/\d+/g</span>)</span><br><span class="line"><span class="keyword">var</span> hasLetter = <span class="title function_">curryingCheck</span>(<span class="regexp">/[a-z]+/g</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">hasNumber</span>(<span class="string">&#x27;test1&#x27;</span>)      <span class="comment">// true</span></span><br><span class="line"><span class="title function_">hasNumber</span>(<span class="string">&#x27;testtest&#x27;</span>)   <span class="comment">// false</span></span><br><span class="line"><span class="title function_">hasLetter</span>(<span class="string">&#x27;21212&#x27;</span>)      <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="4-2-2延迟执行"><a href="#4-2-2延迟执行" class="headerlink" title="4.2.2延迟执行"></a>4.2.2延迟执行</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayKey</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>[key])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Sunshine_Lin&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">23</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// call不是科里化</span></span><br><span class="line">sayKey.<span class="title function_">call</span>(person, <span class="string">&#x27;name&#x27;</span>) <span class="comment">// 立即输出 Sunshine_Lin</span></span><br><span class="line">sayKey.<span class="title function_">call</span>(person, <span class="string">&#x27;age&#x27;</span>) <span class="comment">// 立即输出 23</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bind是科里化</span></span><br><span class="line"><span class="keyword">const</span> say = sayKey.<span class="title function_">bind</span>(person) <span class="comment">// 不执行</span></span><br><span class="line"><span class="comment">// 想执行再执行</span></span><br><span class="line"><span class="title function_">say</span>(<span class="string">&#x27;name&#x27;</span>) <span class="comment">// Sunshine_Lin</span></span><br><span class="line"><span class="title function_">say</span>(<span class="string">&#x27;age&#x27;</span>) <span class="comment">// 23</span></span><br></pre></td></tr></table></figure>

<h2 id="5-compose函数"><a href="#5-compose函数" class="headerlink" title="5.compose函数"></a>5.compose函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">space</span> = (<span class="params">str</span>) =&gt; str.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">len</span> = (<span class="params">arr</span>) =&gt; arr.<span class="property">length</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通写法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">len</span>(<span class="title function_">space</span>(<span class="string">&#x27;i am linsanxin&#x27;</span>))) <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">len</span>(<span class="title function_">space</span>(<span class="string">&#x27;i am 23 year old&#x27;</span>))) <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">len</span>(<span class="title function_">space</span>(<span class="string">&#x27;i am a author in juejin&#x27;</span>))) <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// compose写法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">compose</span> = (<span class="params">...fn</span>) =&gt; <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> fn.<span class="title function_">reduce</span>(<span class="function">(<span class="params">value, fn</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">fn</span>(value)</span><br><span class="line">  &#125;, value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> computedWord = <span class="title function_">compose</span>(space, len)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">computedWord</span>(<span class="string">&#x27;i am linsanxin&#x27;</span>)) <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">computedWord</span>(<span class="string">&#x27;i am 23 year old&#x27;</span>)) <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">computedWord</span>(<span class="string">&#x27;i am a author in juejin&#x27;</span>)) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h2 id="6-数据类型"><a href="#6-数据类型" class="headerlink" title="6.数据类型"></a>6.数据类型</h2><p>JS的八种数据类型：**Number String Boolean Null Undefined Object ** &amp;&amp; <strong>ES6的Symbol  ES11的BigInt</strong></p>
<p>JS的Object包含：<strong>Date, function, Array</strong></p>
<p>JS数据类型由<strong>基本类型</strong>及<strong>引用类型</strong>组成</p>
<p>基本类型：<strong>String Number Undefined Null Boolean</strong></p>
<p>引用类型：<strong>Object</strong>包含<code>Date， Function，Array</code></p>
<h2 id="7-一元二元的详解"><a href="#7-一元二元的详解" class="headerlink" title="7.一元二元的详解"></a>7.一元二元的详解</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/polk6/p/js-adv-addopr.html">关于一元二元的分析，引用了这篇博客</a></p>
<h3 id="一元"><a href="#一元" class="headerlink" title="一元"></a>一元</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Undefined</span></span><br><span class="line"></span><br><span class="line">+ <span class="literal">undefined</span>; <span class="comment">// =&gt; NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Null</span></span><br><span class="line"></span><br><span class="line">+ <span class="literal">null</span>; <span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Boolean</span></span><br><span class="line"></span><br><span class="line">+ <span class="literal">true</span>; <span class="comment">// =&gt; 1</span></span><br><span class="line">+ <span class="literal">false</span>; <span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// String</span></span><br><span class="line"></span><br><span class="line">+ <span class="string">&#x27;1&#x27;</span>; <span class="comment">// =&gt; 1</span></span><br><span class="line">+ <span class="string">&#x27;-1&#x27;</span>; <span class="comment">// =&gt; -1</span></span><br><span class="line">+ <span class="string">&#x27;a1&#x27;</span>; <span class="comment">// =&gt; NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object</span></span><br><span class="line"></span><br><span class="line">+ &#123;&#125;; <span class="comment">// =&gt; NaN</span></span><br><span class="line">+ &#123; <span class="attr">valueOf</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="number">0</span> &#125; &#125;; <span class="comment">// =&gt; 0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="二元"><a href="#二元" class="headerlink" title="二元"></a>二元</h3><p>简单概括为下面4个步骤：</p>
<ol>
<li><p>值进行GetValue()操作。</p>
</li>
<li><p>值进行ToPrimitive()操作，</p>
</li>
<li><p>若一方为String类型，2个值都进行ToString()转换，最后进行字符串连接操作。</p>
</li>
<li><p>若都不是String类型，2个值都进行ToNumber()转换，最后进行算数加法运算。</p>
</li>
</ol>
<h4 id="ToPrimitive-input-PreferredType"><a href="#ToPrimitive-input-PreferredType" class="headerlink" title="ToPrimitive ( input [, PreferredType] )"></a>ToPrimitive ( input [, PreferredType] )</h4><p><strong>参数</strong></p>
<p>①参 input ：传入的值。</p>
<p>②参数 PreferredType ：可选，需要被转换的类型。’+’加号作为一元运算符时，此值为“number”；而作为二元运算符时，未传递此值，以默认的“default”代替。</p>
<p>&#x2F;&#x2F;当“+”号作为2元运算符的时候情况就比较复杂了，因为”+”号可以当做字符串的连接，也可以当做数字的相加减。</p>
<h3 id="解析过程简化步骤"><a href="#解析过程简化步骤" class="headerlink" title="解析过程简化步骤"></a>解析过程简化步骤</h3><p><a target="_blank" rel="noopener" href="http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive">若对此感兴趣可了解官方文档</a></p>
<ol>
<li><p>若input类型为<strong>原始值</strong>(如：Undefined、Null、Boolean、Number、String、Symbol)，直接返回input的本身。</p>
</li>
<li><p>若input类型为<strong>object</strong>(如：Array、Object、Date)，将根据第②个参数 PreferredType 的值进行以下操作：</p>
</li>
</ol>
<p><img src="https://images2017.cnblogs.com/blog/153475/201708/153475-20170823221140543-11014086.png" alt="img"></p>
<p>‘+’加号作为一元运算符时， 传递参数 PreferredType 的值为“number”；而作为二元运算符时，未传递此值时以默认的“default”代替。</p>
<p>在上面的图中，只看到 PreferredType 的值为“number” 或 “string” 时才进行解析，那么默认的“default”表示什么呢？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//伪代码，</span></span><br><span class="line">a + b运算转换规则:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Pa</span> = <span class="title function_">toPrimitive</span>(a);</span><br><span class="line"><span class="keyword">var</span> pb = <span class="title function_">toPrimitive</span>(b);</span><br><span class="line"><span class="keyword">if</span> ((<span class="title class_">Pa</span> is <span class="title class_">String</span>) || (<span class="title class_">Pb</span> is <span class="title class_">String</span>)) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">contact</span>(a, b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((<span class="title class_">Pa</span> is <span class="title class_">Number</span>) &amp;&amp; (<span class="title class_">Pb</span> is <span class="title class_">Number</span>)) &#123;</span><br><span class="line">  <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">throw</span> error;</span><br><span class="line"> <span class="comment">//注: toPrimitive 是将操作数转化为基本数据类型，优先调用valueOf，若得到基本数据类型，则结束，否则继续掉用toString()。（也就是说valueOf的优先级高于toString()）</span></span><br></pre></td></tr></table></figure>

<h3 id="1-String-String"><a href="#1-String-String" class="headerlink" title="1) String + String"></a>1) String + String</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;b&#x27;</span>; <span class="comment">// =&gt; &#x27;ab&#x27;</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> + <span class="string">&#x27;2&#x27;</span>; <span class="comment">// =&gt; &#x27;12&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-Number-Number"><a href="#2-Number-Number" class="headerlink" title="2)Number + Number"></a>2)Number + Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>; <span class="comment">// =&gt; 3</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Number-String-or-String-Number"><a href="#3-Number-String-or-String-Number" class="headerlink" title="3) Number + String or String + Number"></a>3) Number + String or String + Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">说明：<span class="title class_">Number</span>类型的值先进行<span class="title class_">ToString</span>()转换，随后再与另一个<span class="title class_">String</span>类型的值进行拼接操作</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> + <span class="string">&#x27;0&#x27;</span>; <span class="comment">// =&gt; &#x27;10&#x27;</span></span><br><span class="line"><span class="number">1</span> + <span class="string">&#x27;0a&#x27;</span>; <span class="comment">// =&gt; &#x27;10a&#x27;</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> + <span class="number">2</span>; <span class="comment">// =&gt; 12</span></span><br></pre></td></tr></table></figure>

<h3 id="4-Array-String-or-Array-Number"><a href="#4-Array-String-or-Array-Number" class="headerlink" title="4) Array + String or Array + Number"></a>4) Array + String or Array + Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>类型进行<span class="title class_">ToPrimitive</span>()转换时，先执行<span class="title function_">valueOf</span>()，因其返回一个object类型的值，所以又执行了<span class="title function_">toString</span>()方法。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmpList = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">tmpList.<span class="title function_">valueOf</span>(); <span class="comment">// =&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]   输出自身</span></span><br><span class="line">tmpList.<span class="title function_">toString</span>(); <span class="comment">// a,b,c</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 1.Array + String</span></span><br><span class="line">tmpList + <span class="string">&#x27;d&#x27;</span>; <span class="comment">// =&gt; a,b,cd</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2.重写Array的valueOf()方法，使其返回一个非object</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">valueOf</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">tmpList + <span class="string">&#x27;d&#x27;</span>; <span class="comment">// =&gt; a-b-cd </span></span><br></pre></td></tr></table></figure>

<h3 id="5-Date-String-or-Date-Number"><a href="#5-Date-String-or-Date-Number" class="headerlink" title="5) Date + String or Date + Number"></a>5) Date + String or Date + Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Date</span>类型重写了<span class="title class_">ToPrimitive</span>()，所以先调用<span class="title function_">toString</span>()，若返回值为object，再调用<span class="title function_">valueOf</span>()。</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dt = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">dt.<span class="title function_">valueOf</span>(); <span class="comment">// =&gt; 1503501745901</span></span><br><span class="line">dt.<span class="title function_">toString</span>(); <span class="comment">// Wed Aug 23 2017 23:22:25 GMT+0800 (中国标准时间)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 1.Date + String ： dt直接使用了dt.toString()方法</span></span><br><span class="line">dt + <span class="string">&#x27;d&#x27;</span>; <span class="comment">// =&gt; Wed Aug 23 2017 23:22:25 GMT+0800 (中国标准时间)d</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2.重写Date的toString()方法，使其返回一个object的值</span></span><br><span class="line"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">year</span>: <span class="variable language_">this</span>.<span class="title function_">getFullYear</span>() &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 略过了 dt.toString()，调用了 dt.valueOf()</span></span><br><span class="line">dt + <span class="string">&#x27;d&#x27;</span>; <span class="comment">// =&gt; 1503501745901d</span></span><br></pre></td></tr></table></figure>



<h2 id="8-a-x3D-x3D-1-amp-amp-a-x3D-x3D-2-amp-amp-a-x3D-x3D-3-的结果"><a href="#8-a-x3D-x3D-1-amp-amp-a-x3D-x3D-2-amp-amp-a-x3D-x3D-3-的结果" class="headerlink" title="8.(a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3)的结果"></a>8.(a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3)的结果</h2><h3 id="对象类型转换"><a href="#对象类型转换" class="headerlink" title="对象类型转换"></a>对象类型转换</h3><blockquote>
<p>当两个类型不同时进行&#x3D;&#x3D;比较时，会将一个类型转为另一个类型，然后再进行比较。 比如<code>Object</code>类型与<code>Number</code>类型进行比较时，<code>Object</code>类型会转换为<code>Number</code>类型。 <code>Object</code>转换为<code>Number</code>时，会尝试调用<code>Object.valueOf()</code>和<code>Object.toString()</code>来获取对应的数字基本类型</p>
</blockquote>
<p><strong>在尝试这个之前， 先来了解一下函数转换对象的实例</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = &#123;</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = + x;  <span class="comment">//在这一步，到底调用的是toString()还是valueOf()呢？,在 + 号作为二元运算符的部分，会给出解释</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象类型转换</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">i</span>++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="数组类型转换"><a href="#数组类型转换" class="headerlink" title="数组类型转换"></a>数组类型转换</h3><blockquote>
<p>与上面这个类型转换一样，数组调用<code>toString()</code>会隐含调用<code>Array.join()</code>方法 而数组<code>shift</code>方法的用法：<code>shift()</code> 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。如果数组是空的，那么 <code>shift()</code> 方法将不进行任何操作，返回 <code>undefined</code> 值。请注意，该方法不创建新数组，而是直接修改原有的 数组。 所以我们可以看到 <code>a == 1</code>时会调用<code>toString()</code>,<code>toString()</code>调用<code>join()</code>，<code>join()</code>等于<code>shift</code>，则转换为<code>Number</code>类型后为1.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.<span class="property">join</span> = a.<span class="property">shift</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="defineProperty"><a href="#defineProperty" class="headerlink" title="defineProperty"></a>defineProperty</h3><blockquote>
<p>使用一个<code>defineProperty</code>，让 <code>a</code> 的返回值为三个不同的值。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">window</span>, <span class="string">&#x27;a&#x27;</span>, &#123; <span class="comment">// 这里要window，这样的话下面才能直接使用a变量去 ==</span></span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ++val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>





<h1 id="浏览器相关"><a href="#浏览器相关" class="headerlink" title="浏览器相关"></a>浏览器相关</h1><h2 id="1-操作DOM元素的方法"><a href="#1-操作DOM元素的方法" class="headerlink" title="1.操作DOM元素的方法"></a>1.操作DOM元素的方法</h2><table>
<thead>
<tr>
<th>标题</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>createElement</td>
<td>创建一个标签节点</td>
</tr>
<tr>
<td>createTextNode</td>
<td>创建一个文本节点</td>
</tr>
<tr>
<td>cloneNode(deep)</td>
<td>复制一个节点，连同属性与值都复制，deep为true时，连同后代节点一起复制，不传或者传false，则只复制当前节点</td>
</tr>
<tr>
<td>createDocumentFragment</td>
<td>创建一个文档碎片节点</td>
</tr>
<tr>
<td>appendChild</td>
<td>追加子元素</td>
</tr>
<tr>
<td>insertBefore</td>
<td>将元素插入前面</td>
</tr>
<tr>
<td>removeChild</td>
<td>删除子元素</td>
</tr>
<tr>
<td>replaceChild</td>
<td>替换子元素</td>
</tr>
<tr>
<td>getAttribute</td>
<td>获取节点的属性</td>
</tr>
<tr>
<td>createAttribute</td>
<td>创建属性</td>
</tr>
<tr>
<td>setAttribute</td>
<td>设置节点属性</td>
</tr>
<tr>
<td>romoveAttribute</td>
<td>删除节点属性</td>
</tr>
<tr>
<td>element.attributes</td>
<td>将属性生成类数组对象</td>
</tr>
</tbody></table>
<h2 id="2-DOM的类型"><a href="#2-DOM的类型" class="headerlink" title="2.DOM的类型"></a>2.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/forever-ljf/p/16500357.html">DOM的类型</a></h2><table>
<thead>
<tr>
<th>元素节点</th>
<th>Node.ELEMENT_NODE(1)</th>
</tr>
</thead>
<tbody><tr>
<td>属性节点</td>
<td>Node.ATTRIBUTE_NODE(2)</td>
</tr>
<tr>
<td>文本节点</td>
<td>Node.TEXT_NODE(3)</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.yiibai.com/xml/xml_cdata_sections.html">CDATA节点</a></td>
<td>Node.CDATA_SECTION_NODE(4)</td>
</tr>
<tr>
<td>实体引用名称节点</td>
<td>Node.ENTRY_REFERENCE_NODE(5)</td>
</tr>
<tr>
<td>实体名称节点</td>
<td>Node.ENTITY_NODE(6)</td>
</tr>
<tr>
<td>处理指令节点</td>
<td>Node.PROCESSING_INSTRUCTION_NODE(7)</td>
</tr>
<tr>
<td>注释节点</td>
<td>Node.COMMENT_NODE(8)</td>
</tr>
<tr>
<td>文档节点</td>
<td>Node.DOCUMENT_NODE(9)</td>
</tr>
<tr>
<td>文档类型节点</td>
<td>Node.DOCUMENT_TYPE_NODE(10)</td>
</tr>
<tr>
<td>文档片段节点</td>
<td>Node.DOCUMENT_FRAGMENT_NODE(11)</td>
</tr>
<tr>
<td>DTD声明节点</td>
<td>Node.NOTATION_NODE(12)</td>
</tr>
</tbody></table>
<h2 id="3-宏任务与微任务"><a href="#3-宏任务与微任务" class="headerlink" title="3.宏任务与微任务"></a>3.宏任务与微任务</h2><h3 id="3-1-对比"><a href="#3-1-对比" class="headerlink" title="3.1 对比"></a>3.1 对比</h3><p>宏</p>
<table>
<thead>
<tr>
<th>#</th>
<th>浏览器</th>
<th>Node</th>
</tr>
</thead>
<tbody><tr>
<td><strong>I&#x2F;O</strong></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><strong>setTimeout</strong></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><strong>setInterval</strong></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><strong>setImmediate</strong></td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td><strong>requestAnimationFrame</strong></td>
<td>✅</td>
<td>❌</td>
</tr>
</tbody></table>
<p>微</p>
<table>
<thead>
<tr>
<th>#</th>
<th>浏览器</th>
<th>Node</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Promise.prototype.then catch finally</strong></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><strong>process.nextTick</strong></td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td><strong>MutationObserver</strong></td>
<td>✅</td>
<td>❌</td>
</tr>
</tbody></table>
<h3 id="3-2掘金大佬文章"><a href="#3-2掘金大佬文章" class="headerlink" title="3.2掘金大佬文章"></a>3.2掘金大佬文章</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7016298598883131423">setTimeout+Promise+Async输出顺序？很简单呀！ - 掘金 (juejin.cn)</a></p>
<h2 id="4-JS中如何将页面重定向到另一个页面？"><a href="#4-JS中如何将页面重定向到另一个页面？" class="headerlink" title="4.JS中如何将页面重定向到另一个页面？"></a>4.JS中如何将页面重定向到另一个页面？</h2><ul>
<li>1、使用 <strong>location.href</strong>：window.location.href &#x3D;“”</li>
<li>2、使用  <strong>location.replace</strong>：window.location.replace(“ “)</li>
</ul>
<h2 id="5-鼠标事件"><a href="#5-鼠标事件" class="headerlink" title="5.鼠标事件"></a>5.鼠标事件</h2><table>
<thead>
<tr>
<th>事件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>click</td>
<td>单机鼠标左键触发，右键无效，当用户焦点在按钮并按下Enter，也会触发</td>
</tr>
<tr>
<td>dbclick</td>
<td>双击鼠标左键触发，右键无效</td>
</tr>
<tr>
<td>mousedown</td>
<td>单机鼠标任意一个按键都触发</td>
</tr>
<tr>
<td>mouseout</td>
<td>鼠标指针位于某个元素上且将要移出元素边界时触发</td>
</tr>
<tr>
<td>mouseover</td>
<td>鼠标指针移出某个元素到另一个元素上时触发</td>
</tr>
<tr>
<td>mouseup</td>
<td>鼠标指针移出某个元素到另一个元素上时触发</td>
</tr>
<tr>
<td>mouseover</td>
<td>松开任意鼠标按键时触发</td>
</tr>
<tr>
<td>mousemove</td>
<td>鼠标在某个元素上时持续发生</td>
</tr>
<tr>
<td>mouseenter</td>
<td>鼠标进入某个元素边界时触发</td>
</tr>
<tr>
<td>mouseleave</td>
<td>鼠标离开某个元素边界时触发</td>
</tr>
</tbody></table>
<h2 id="6-键盘事件"><a href="#6-键盘事件" class="headerlink" title="6.键盘事件"></a>6.键盘事件</h2><p>注明：<code>event</code>对象上的<code>keyCode</code>属性，是按下的按键的<code>ASCLL值</code>，通过这个值可辨别是按下哪个按键。<code>ASCLL</code>表在此<a href="https://link.juejin.cn/?target=http://c.biancheng.net/c/ascii/">ASCII码一览表，ASCII码对照表</a></p>
<table>
<thead>
<tr>
<th>事件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>onkeydown</td>
<td>某个键盘按键被按下时触发</td>
</tr>
<tr>
<td>onkeyup</td>
<td>某个键盘按键被松开时触发</td>
</tr>
<tr>
<td>onkeypress</td>
<td>某个按键被按下时触发，不监听功能键，如ctrl，shift</td>
</tr>
</tbody></table>
<h2 id="7-JS中鼠标事件的各个坐标"><a href="#7-JS中鼠标事件的各个坐标" class="headerlink" title="7.JS中鼠标事件的各个坐标"></a>7.JS中鼠标事件的各个坐标</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>兼容性</th>
</tr>
</thead>
<tbody><tr>
<td>offsetX</td>
<td>以当前的目标元素左上角为原点，定位x轴坐标</td>
<td>除Mozilla外都兼容</td>
</tr>
<tr>
<td>offsetY</td>
<td>以当前的目标元素左上角为原点，定位y轴坐标</td>
<td>除Mozilla外都兼容</td>
</tr>
<tr>
<td>clientX</td>
<td>以浏览器可视窗口左上角为原点，定位x轴坐标</td>
<td>都兼容</td>
</tr>
<tr>
<td>clientY</td>
<td>以浏览器可视窗口左上角为原点，定位y轴坐标</td>
<td>都兼容</td>
</tr>
<tr>
<td>pageX</td>
<td>以doument对象左上角为原点，定位x轴坐标</td>
<td>除IE外都兼容</td>
</tr>
<tr>
<td>pageY</td>
<td>以doument对象左上角为原点，定位y轴坐标</td>
<td>除IE外都兼容</td>
</tr>
<tr>
<td>screenX</td>
<td>以计算机屏幕左上顶角为原点，定位x轴坐标(多屏幕会影响)</td>
<td>全兼容</td>
</tr>
<tr>
<td>screenY</td>
<td>以计算机屏幕左上顶角为原点，定位y轴坐标</td>
<td>全兼容</td>
</tr>
<tr>
<td>layerX</td>
<td>最近的绝对定位的父元素（如果没有，则为 document 对象）左上顶角为元素，定位 x 轴坐标</td>
<td>Mozilla 和 Safari</td>
</tr>
<tr>
<td>layerY</td>
<td>最近的绝对定位的父元素（如果没有，则为 document 对象）左上顶角为元素，定位 y 轴坐标</td>
<td>Mozilla 和 Safari</td>
</tr>
</tbody></table>
<h2 id="8-JS中元素视图的各个尺寸"><a href="#8-JS中元素视图的各个尺寸" class="headerlink" title="8.JS中元素视图的各个尺寸"></a>8.JS中元素视图的各个尺寸</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>offsetLeft</td>
<td>获取当前元素到定位父节点的left方向的距离</td>
</tr>
<tr>
<td>offsetTop</td>
<td>获取当前元素到定位父节点的top方向的距离</td>
</tr>
<tr>
<td>offsetWidth</td>
<td>获取当前元素 width + 左右padding + 左右border-width</td>
</tr>
<tr>
<td>offsetHeight</td>
<td>获取当前元素 height + 上下padding + 上下border-width</td>
</tr>
<tr>
<td>clientWidth</td>
<td>获取当前元素 width + 左右padding</td>
</tr>
<tr>
<td>clientHeight</td>
<td>获取当前元素 height + 上下padding</td>
</tr>
<tr>
<td>scrollWidth</td>
<td>当前元素内容真实的宽度，内容不超出盒子宽度时为盒子的clientWidth</td>
</tr>
<tr>
<td>scrollHeight</td>
<td>当前元素内容真实的高度，内容不超出盒子高度时为盒子的clientHeight</td>
</tr>
</tbody></table>
<h2 id="9-Document文档视图的各个尺寸"><a href="#9-Document文档视图的各个尺寸" class="headerlink" title="9.Document文档视图的各个尺寸"></a>9.Document文档视图的各个尺寸</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>document.documentElement.clientWidth</td>
<td>浏览器窗口可视区宽度（不包括浏览器控制台、菜单栏、工具栏、滚动条）</td>
</tr>
<tr>
<td>document.documentElement.clientHeight</td>
<td>浏览器窗口可视区高度（不包括浏览器控制台、菜单栏、工具栏、滚动条）</td>
</tr>
<tr>
<td>document.documentElement.offsetHeight</td>
<td>获取整个文档的高度（包含body的margin）</td>
</tr>
<tr>
<td>document.body.offsetHeight</td>
<td>获取整个文档的高度（不包含body的margin）</td>
</tr>
<tr>
<td>document.documentElement.scrollTop</td>
<td>返回文档的滚动top方向的距离（当窗口发生滚动时值改变）</td>
</tr>
<tr>
<td>document.documentElement.scrollLeft</td>
<td>返回文档的滚动left方向的距离（当窗口发生滚动时值改变）</td>
</tr>
</tbody></table>
<h1 id="ES6需要加强的"><a href="#ES6需要加强的" class="headerlink" title="ES6需要加强的"></a>ES6需要加强的</h1><h2 id="1-Promise-12"><a href="#1-Promise-12" class="headerlink" title="1.Promise 12"></a>1.Promise 12</h2><h2 id="2-async-x2F-await-13-18"><a href="#2-async-x2F-await-13-18" class="headerlink" title="2.async&#x2F;await 13 18"></a>2.async&#x2F;await 13 18</h2><h2 id="3-常用正则表达式-14"><a href="#3-常用正则表达式-14" class="headerlink" title="3.常用正则表达式 14"></a>3.常用正则表达式 14</h2><h2 id="4-Symbol应用场景"><a href="#4-Symbol应用场景" class="headerlink" title="4.Symbol应用场景"></a>4.Symbol应用场景</h2><h3 id="4-1对象属性名"><a href="#4-1对象属性名" class="headerlink" title="4.1对象属性名"></a>4.1对象属性名</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gender = <span class="title class_">Symbol</span>(<span class="string">&#x27;gender&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Reqidou&#x27;</span>,</span><br><span class="line">  [gender]: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;name&#x27;</span>]) <span class="comment">// &#x27;Reqidou&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[gender]) <span class="comment">// 男</span></span><br></pre></td></tr></table></figure>

<p><strong>Symbol作为属性名不会被枚举</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)) <span class="comment">// [ &#x27;name&#x27;]</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key) <span class="comment">// name</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj))<span class="comment">//&#123;&quot;name&quot;:&quot;Reqidou&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>获取Symbol属性的方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(obj)) <span class="comment">// [ Symbol(gender) ]</span></span><br><span class="line"><span class="comment">// 方法二</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(obj))<span class="comment">//[&#x27;name&#x27;,Symbol(gender) ]</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2代替常量"><a href="#4-2代替常量" class="headerlink" title="4.2代替常量"></a>4.2代替常量</h3><p>利用symbol唯一性的特征， 进行变量命名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 赋值</span></span><br><span class="line"><span class="keyword">const</span> one = <span class="string">&#x27;oneXin&#x27;</span></span><br><span class="line"><span class="keyword">const</span> two = <span class="string">&#x27;twoXin&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (key) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">one</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;one&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">two</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;two&#x27;</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果变量少的话还好，但是变量多的时候，赋值命名很烦，可以利用Symbol的唯一性</span></span><br><span class="line"><span class="keyword">const</span> one = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> two = <span class="title class_">Symbol</span>()</span><br></pre></td></tr></table></figure>



<h3 id="4-3定义类的私有属性"><a href="#4-3定义类的私有属性" class="headerlink" title="4.3定义类的私有属性"></a>4.3定义类的私有属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PASSWORD属性无法在实例里获取到</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Login</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">username, password</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">PASSWORD</span> = <span class="title class_">Symbol</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">username</span> = username</span><br><span class="line">    <span class="variable language_">this</span>[<span class="variable constant_">PASSWORD</span>] = password</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">checkPassword</span>(<span class="params">pwd</span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="variable constant_">PASSWORD</span>] === pwd &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> login = <span class="keyword">new</span> <span class="title class_">Login</span>(<span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;hahah&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(login.<span class="property">PASSWORD</span>) <span class="comment">// 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(login[<span class="variable constant_">PASSWORD</span>]) <span class="comment">// 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(login[<span class="variable constant_">PASSWORD</span>]) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Commonjs和ES6-Module的区别"><a href="#5-Commonjs和ES6-Module的区别" class="headerlink" title="5.Commonjs和ES6 Module的区别"></a>5.Commonjs和ES6 Module的区别</h2><ul>
<li>1、Commonjs是拷贝输出，ES6模块化是引用输出</li>
<li>2、Commonjs是运行时加载，ES6模块化是编译时输出接口</li>
<li>3、Commonjs是单个值导出，ES6模块化可以多个值导出</li>
<li>4、Commonjs是动态语法可写在函数体中，ES6模块化静态语法只能写在顶层</li>
<li>5、Commonjs的this是当前模块化，ES6模块化的this是undefined </li>
<li>6、推荐文章<a href="https://link.juejin.cn/?target=https://www.cnblogs.com/unclekeith/p/7679503.html">CommonJS模块与ES6模块的区别</a></li>
</ul>
<h2 id="6-原型链"><a href="#6-原型链" class="headerlink" title="6.原型链"></a>6.原型链</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7007416743215759373">这可能是掘金讲「原型链」，讲的最好最通俗易懂的了，附练习题！ - 掘金 (juejin.cn)</a></p>
<h1 id="常用的ES6-ES12的语法"><a href="#常用的ES6-ES12的语法" class="headerlink" title="常用的ES6-ES12的语法"></a>常用的ES6-ES12的语法</h1><p>引用自文章：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6995334897065787422">基础很好？总结了38个ES6-ES12的开发技巧，倒要看看你能拿几分？</a></p>
<h2 id="1-ES6"><a href="#1-ES6" class="headerlink" title="1.ES6"></a>1.ES6</h2><h3 id="1-1let-const-var"><a href="#1-1let-const-var" class="headerlink" title="1.1let const var"></a>1.1let const var</h3><pre><code>- 三者都有作用域提升【已修改为只有var由作用域提升下面详情】
- let const无初始化提升 var有初始化提升
- let var值可变 const如果引用对象， 可更改属性

let、const没有进行作用域提升，但是会在解析阶段被创建出来。
作用域提升：在声明变量的作用域中，如果这个变量可以在声明之前被访问，那么我们可以称之为作用域提升；在这里，它虽然被创建出来了，但是不能被访问，我认为不能称之为作用域提升
</code></pre>
<h3 id="1-2默认参数"><a href="#1-2默认参数" class="headerlink" title="1.2默认参数"></a>1.2默认参数</h3><p>一种写法，在实践中可简化三元运算符<code>name = name || &#39; &#39;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">name = <span class="string">&#x27;name&#x27;</span>, age = <span class="number">20</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name, age)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// name 20</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="string">&#x27;hi&#x27;</span>, <span class="number">1</span>) <span class="comment">// hi 1</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3扩展运算符"><a href="#1-3扩展运算符" class="headerlink" title="1.3扩展运算符"></a>1.3扩展运算符</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组拼接</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="comment">//普通方法</span></span><br><span class="line"><span class="keyword">const</span> arr = arr1.<span class="title function_">concat</span>(arr2) <span class="comment">//[1, 2, 3, 4]</span></span><br><span class="line"><span class="comment">//扩展运算符</span></span><br><span class="line"><span class="keyword">const</span> arr = [...arr1, ...arr2]<span class="comment">//[1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4剩余参数"><a href="#1-4剩余参数" class="headerlink" title="1.4剩余参数"></a>1.4剩余参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">name, ...params</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(<span class="string">&#x27;hi&#x27;</span>, <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)<span class="comment">//hi [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h3 id="1-5模板字符串"><a href="#1-5模板字符串" class="headerlink" title="1.5模板字符串"></a>1.5模板字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;qidou&#x27;</span></span><br><span class="line"><span class="keyword">const</span> hobby = <span class="string">&#x27;coding&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi <span class="subst">$&#123;name&#125;</span>, U love <span class="subst">$&#123;hobby&#125;</span>?`</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-6普通函数箭头函数的区别"><a href="#1-6普通函数箭头函数的区别" class="headerlink" title="1.6普通函数箭头函数的区别"></a>1.6普通函数箭头函数的区别</h3><pre><code>- 1、箭头函数不可作为构造函数，不能使用new
-  2、箭头函数没有自己的this
-  3、箭头函数没有arguments对象
-  4、箭头函数没有原型对象
</code></pre>
<h3 id="1-7Array-prototype-forEach"><a href="#1-7Array-prototype-forEach" class="headerlink" title="1.7Array.prototype.forEach"></a>1.7Array.prototype.forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">//           当前参数 索引  数组</span></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index, thisArr</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>forEach</strong>使用<strong>try catch</strong>跳出循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testStr</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> str === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      <span class="keyword">throw</span> <span class="title class_">Error</span>()</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">testStr</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getItemById</span>(<span class="params">arr, id</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">curItem. index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(curItem.<span class="property">id</span> == id) &#123;</span><br><span class="line">                item = curItem</span><br><span class="line">                <span class="keyword">throw</span> <span class="title class_">Error</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> item</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-8Array-prototype-map"><a href="#1-8Array-prototype-map" class="headerlink" title="1.8Array.prototype.map"></a>1.8Array.prototype.map</h3><p><strong>此方法创建一个新数组</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">//           		当前参数 索引  数组</span></span><br><span class="line"><span class="keyword">const</span> arr2 = mapArr.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index, thisArr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item * <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2) <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<h3 id="1-9Array-prototype-filter"><a href="#1-9Array-prototype-filter" class="headerlink" title="1.9Array.prototype.filter"></a>1.9Array.prototype.filter</h3><p><strong>返回一个新数组</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = filterArr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item, index, arr</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2) <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>

<h3 id="1-10Array-prototype-some"><a href="#1-10Array-prototype-some" class="headerlink" title="1.10Array.prototype.some"></a>1.10Array.prototype.some</h3><p><strong>返回布尔类型， 一个为真则为true</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someArr = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">const</span> bool = someArr.<span class="title function_">some</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bool) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="1-11-Array-prototype-every"><a href="#1-11-Array-prototype-every" class="headerlink" title="1.11 Array.prototype.every"></a>1.11 Array.prototype.every</h3><p><strong>返回布尔类型， 所有为真才为true</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> everyArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> bool = everyArr.<span class="title function_">every</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    item = <span class="keyword">new</span> <span class="title class_">Number</span>(item)</span><br><span class="line">    <span class="keyword">return</span> item <span class="keyword">instanceof</span> <span class="title class_">Number</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bool) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="1-12Array-prototype-reduce"><a href="#1-12Array-prototype-reduce" class="headerlink" title="1.12Array.prototype.reduce"></a>1.12Array.prototype.reduce</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduceArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> sum = reduceArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pre + next</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduceStr = <span class="string">&#x27;1 12 512 124 124&#x27;</span></span><br><span class="line"><span class="keyword">const</span> reduceArr = <span class="keyword">function</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reduceToType</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//  return pre.concat(cur)</span></span><br><span class="line">    </span><br><span class="line">    pre.<span class="title function_">push</span>(cur)</span><br><span class="line">    <span class="keyword">return</span> pre</span><br><span class="line">  &#125;, [])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> reduceType = <span class="title function_">reduceArr</span>(reduceStr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">reduceToType</span>(reduceType));</span><br></pre></td></tr></table></figure>

<h3 id="1-13Promise"><a href="#1-13Promise" class="headerlink" title="1.13Promise"></a>1.13Promise</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单使用</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// resolve(&#x27;接收成功&#x27;)</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;1. 我决定then接收， 此时返回 function(err)&#x27;</span>)</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">reject</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(err + <span class="string">&#x27;\n2. 这里由于此对象的返回结果， 继续由下面的then接收&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err + <span class="string">&#x27;\n3. 运行到此结束&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">requestDate</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="string">&#x27;No!&#x27;</span>)</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;Hi&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">      <span class="title function_">reject</span>(<span class="string">&#x27;err&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">requestDate</span>()</span><br></pre></td></tr></table></figure>

<p><strong>all</strong>：如果接收项不为Promise，则此项成功； 全部成功才返回resolve</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">requestDate</span>(<span class="params">time</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">88</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>s后运行`</span>)</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">requestDate</span>(<span class="number">2999</span>), <span class="title function_">requestDate</span>(<span class="number">199</span>), <span class="title function_">requestDate</span>(<span class="number">100</span>)]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time, isResolve</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isResolve ? <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : <span class="title function_">reject</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">fn</span>(<span class="number">2000</span>, <span class="literal">true</span>), <span class="title function_">fn</span>(<span class="number">3000</span>), <span class="title function_">fn</span>(<span class="number">1000</span>, <span class="literal">true</span>)]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err) <span class="comment">// 3秒后输出 &#x27;3000毫秒后我失败啦！！！&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>race</strong>: 接收项不为Promise，此项成功；返回最快到达的结果（resolve&#x2F;reject）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time, isResolve</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      isResolve ? <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>s的结果最先抵达退出`</span>) : <span class="title function_">reject</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>s的结果最先抵达退出`</span>)</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([<span class="title function_">fn</span>(<span class="number">1000</span>, <span class="literal">true</span>), <span class="title function_">fn</span>(<span class="number">50</span>, <span class="literal">false</span>)])</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err) <span class="comment">// 50s的结果最先抵达退出</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-14构造函数及class"><a href="#1-14构造函数及class" class="headerlink" title="1.14构造函数及class"></a>1.14构造函数及class</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5 构造函数写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6 class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">sayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> qidou = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;↙&#x27;</span>)</span><br><span class="line">qidou.<span class="title function_">sayName</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//class也是function的语法糖</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">Person</span>) <span class="comment">// function</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>静态属性和静态方法 定义的只能class自己使用， 实例无法使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> age = <span class="number">20</span></span><br><span class="line">	<span class="keyword">static</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;哈哈&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">age</span>) <span class="comment">// 20</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">fn</span>() <span class="comment">//哈哈</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> example = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;企斗&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(example.<span class="property">age</span>) <span class="comment">//undefined</span></span><br><span class="line">example.<span class="title function_">fn</span>() <span class="comment">// fn is not a function</span></span><br></pre></td></tr></table></figure>

<p><strong>extend继承</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, kind</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">kind</span> = kind</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>是<span class="subst">$&#123;<span class="variable language_">this</span>.kind&#125;</span>动物`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&#x27;小黑&#x27;</span>, <span class="string">&#x27;猫科&#x27;</span>)</span><br><span class="line">cat.<span class="title function_">say</span>() <span class="comment">//小黑是猫科动物</span></span><br></pre></td></tr></table></figure>

<h3 id="1-15解构赋值"><a href="#1-15解构赋值" class="headerlink" title="1.15解构赋值"></a>1.15解构赋值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象解构</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>: &#123;</span><br><span class="line">        <span class="attr">coding</span>: <span class="string">&#x27;搬砖&#x27;</span>,</span><br><span class="line">        <span class="attr">reading</span>: <span class="string">&#x27;看闲书&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>  &#123;name, <span class="attr">hobby</span>: &#123; coding, eating = <span class="string">&#x27;面&#x27;</span> &#125; &#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, coding, eating)<span class="comment">//qidou 搬砖 面</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组解构</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, b, c, d = <span class="number">7</span>] = arr</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c, d) <span class="comment">//1 3 6 7</span></span><br><span class="line"><span class="comment">//乱序解构</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="number">1</span>: a, <span class="number">0</span>: b, <span class="number">2</span>: c &#125; = arr</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c)<span class="comment">//3 1 6</span></span><br></pre></td></tr></table></figure>

<h3 id="1-16find、findIndex"><a href="#1-16find、findIndex" class="headerlink" title="1.16find、findIndex"></a>1.16find、findIndex</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> findArr = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>, <span class="attr">score</span>: <span class="string">&#x27;90&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;Two&#x27;</span>, <span class="attr">score</span>: <span class="string">&#x27;2&#x27;</span> &#125;,</span><br><span class="line">]</span><br><span class="line"><span class="comment">//find：找到返回被找元素，找不到返回undefined</span></span><br><span class="line"><span class="keyword">const</span> qidou = findArr.<span class="title function_">find</span>(<span class="function">(<span class="params">&#123; name &#125;</span>) =&gt;</span> name === <span class="string">&#x27;qidou&#x27;</span>)</span><br><span class="line"><span class="comment">//findIndex：找到返回被找元素索引，找不到返回-1</span></span><br><span class="line"><span class="keyword">const</span> twoIndex = findArr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">&#123; name &#125;</span>) =&gt;</span> name === <span class="string">&#x27;Two&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(qidou)<span class="comment">//&#123; name: &#x27;qidou&#x27;, score: &#x27;90&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(twoIndex)<span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<h3 id="1-17for-in-amp-for-of"><a href="#1-17for-in-amp-for-of" class="headerlink" title="1.17for in &amp; for of"></a>1.17for in &amp; for of</h3><p>**for in:**遍历方法， 可遍历对象、数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>, <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key) <span class="comment">//name gender</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> index <span class="keyword">in</span> arr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index)<span class="comment">//0 1 2 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**for of:**遍历数组。 不能遍历非iterable</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)<span class="comment">// 1 2 3 4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//for...of语句在可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句。</span></span><br></pre></td></tr></table></figure>

<h3 id="1-18Set-amp-Map"><a href="#1-18Set-amp-Map" class="headerlink" title="1.18Set &amp; Map"></a>1.18Set &amp; Map</h3><p><strong>Set基本使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="comment">//增加元素 add</span></span><br><span class="line">set1.<span class="title function_">add</span>(<span class="number">1</span>)</span><br><span class="line">set1.<span class="title function_">add</span>(<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1) <span class="comment">// Set(2) &#123; 1, 2 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> set2 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">set2.<span class="title function_">add</span>(<span class="number">4</span>)</span><br><span class="line">set2.<span class="title function_">add</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set2) <span class="comment">// Set(5) &#123;1, 2, 3, 4, &#x27;hi&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找元素 has</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set2.<span class="title function_">has</span>(<span class="string">&#x27;hi&#x27;</span>)) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//长度 size</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set2.<span class="property">size</span>) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除元素 delete</span></span><br><span class="line">set2.<span class="title function_">delete</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set2) <span class="comment">// Set(4) &#123;1, 2, 3, 4&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>Set不重复性</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//两对象都是不同的指针， 所以无法去重</span></span><br><span class="line"><span class="keyword">const</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, &#123;<span class="attr">name</span>: <span class="string">&#x27;Hi&#x27;</span>&#125;, <span class="number">2</span>, &#123;<span class="attr">name</span>: <span class="string">&#x27;Hi&#x27;</span>&#125;])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1) <span class="comment">// Set(4) &#123;1, &#123;name: &#x27;Hi&#x27;&#125;, 2, &#123;name: &#x27;Hi&#x27;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果两个对象是统一指针， 则去重</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">name</span>: <span class="string">&#x27;Hi&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">const</span> set2 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, obj, <span class="number">2</span>, obj])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set2) <span class="comment">// Set(3) &#123;1, &#123;name: &#x27;Hi&#x27;&#125;, 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//NaN在Set会被去重， 虽然NaN !== Nan</span></span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="title class_">NaN</span>, <span class="number">1</span>, <span class="title class_">NaN</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set) <span class="comment">// Set(2) &#123; 1, NaN &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//利用Set的不可重复性，可以实现数组去重</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> uniqueArr = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(uniqueArr) <span class="comment">// [1, 2, 5, 6]</span></span><br><span class="line"><span class="comment">//利用对象的唯一属性特性， 实现数组去重</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    obj[item] = item</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr)); <span class="comment">// &#123; &#x27;1&#x27;: 1, &#x27;2&#x27;: 2, &#x27;5&#x27;: 5, &#x27;6&#x27;: 6 &#125;</span></span><br></pre></td></tr></table></figure>

<p>**Map:**对比<code>object</code>最大的好处就是，key不受类型限制</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map1 = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//新增键值对 set(key, value)</span></span><br><span class="line">map1.<span class="title function_">set</span>(<span class="literal">true</span>, <span class="number">1</span>)</span><br><span class="line">map1.<span class="title function_">set</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">map1.<span class="title function_">set</span>(<span class="string">&#x27;hi&#x27;</span>, <span class="string">&#x27;qidou&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map1)<span class="comment">//Map(3) &#123; true =&gt; 1, 1 =&gt; 2, &#x27;hi&#x27; =&gt; &#x27;qidou&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map是否存在key， 使用has(key)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map1.<span class="title function_">has</span>(<span class="string">&#x27;hi&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取某个key对应的value， 使用get(key)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map1.<span class="title function_">get</span>(<span class="number">1</span>)) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除键值对， 使用delete(key)</span></span><br><span class="line">map1.<span class="title function_">delete</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map1)<span class="comment">//Map(2)&#123; 1 =&gt; 2, &#x27;hi&#x27; =&gt; &#x27;qidou&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-19属性名表达式"><a href="#1-19属性名表达式" class="headerlink" title="1.19属性名表达式"></a>1.19属性名表达式</h3><p>我们经常碰到这样的问题，无论是在微信小程序还是React中，我们需要根据某个条件去修改某个数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (type === <span class="string">&#x27;boy&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="attr">boyName</span>: name</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;girl&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="attr">girlName</span>: name</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">  [<span class="string">`<span class="subst">$&#123;type&#125;</span>Name`</span>]: name</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="2-ES7"><a href="#2-ES7" class="headerlink" title="2.ES7"></a>2.ES7</h2><h3 id="2-1includes"><a href="#2-1includes" class="headerlink" title="2.1includes"></a>2.1includes</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> includeArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&#x27;123&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = includeArr.<span class="title function_">includes</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//indexOf</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">indexOf</span>(<span class="title class_">NaN</span>))<span class="comment">//-1 indexOf无法找NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">includes</span>(<span class="title class_">NaN</span>))<span class="comment">// true 可以找到</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2求幂运算符"><a href="#2-2求幂运算符" class="headerlink" title="2.2求幂运算符"></a>2.2求幂运算符</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">//9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">3</span> ** <span class="number">2</span> <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>

<h2 id="3-ES8"><a href="#3-ES8" class="headerlink" title="3.ES8"></a>3.ES8</h2><h3 id="3-1Object-values"><a href="#3-1Object-values" class="headerlink" title="3.1Object.values"></a>3.1Object.values</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Hi&#x27;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>: <span class="string">&#x27;coding&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//获取value集合</span></span><br><span class="line"><span class="keyword">const</span> values = <span class="title class_">Object</span>.<span class="title function_">values</span>(obj)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(values)<span class="comment">// [&#x27;hi&#x27;, &#x27;male&#x27;, &#x27;coding&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2Object-entries"><a href="#3-2Object-entries" class="headerlink" title="3.2Object.entries"></a>3.2Object.entries</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取对象的键值对集合</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Hi&#x27;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>: <span class="string">&#x27;coding&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> entries = <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(entries)<span class="comment">//[ [ &#x27;name&#x27;, &#x27;Hi&#x27; ], [ &#x27;gender&#x27;, &#x27;male&#x27; ], [ &#x27;hobby&#x27;, &#x27;coding&#x27; ] ]</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3async-x2F-await"><a href="#3-3async-x2F-await" class="headerlink" title="3.3async&#x2F;await"></a>3.3async&#x2F;await</h3><p><strong>Promise的嵌套方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口一，请求到数据一，而数据一被当做请求二的参数去请求数据二</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="number">5</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(res * <span class="number">10</span>)</span><br><span class="line">            &#125;, <span class="number">2000</span>)</span><br><span class="line">        &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 3s后输出50</span></span><br></pre></td></tr></table></figure>

<p>这样的嵌套是不美观的，如果有很多个接口，那就会嵌套很多层，此时我们可以使用async&#x2F;await来以同步方式执行异步，注意以下几点：</p>
<ul>
<li>await只能在async函数里使用</li>
<li>await后面最好接Promise，如果后面接的是普通函数则会直接执行</li>
<li>async函数返回的是一个Promise</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="number">5</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(res * <span class="number">10</span>)</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">req</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//同步方式执行异步</span></span><br><span class="line">    <span class="keyword">const</span> data1 = <span class="keyword">await</span> <span class="title function_">fn1</span>() <span class="comment">// 等待1s后返回数据往下</span></span><br><span class="line">    <span class="keyword">const</span> data2 = <span class="keyword">await</span> <span class="title function_">fn2</span>(data1)<span class="comment">//data1数据请求，2s</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-ES9"><a href="#4-ES9" class="headerlink" title="4.ES9"></a>4.ES9</h2><h3 id="4-1for-await-of"><a href="#4-1for-await-of" class="headerlink" title="4.1for await of"></a>4.1for await of</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后调用`</span>)</span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">2000</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1000</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">3000</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="comment">//执行结果1000ms后调用 2000ms后调用 3000ms后调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果想执行这个2 1 3的结果，可以使用async/await</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后成功`</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data1 = <span class="keyword">await</span> <span class="title function_">fn</span>(<span class="number">2000</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data1)<span class="comment">//2s后执行</span></span><br><span class="line">    <span class="keyword">const</span> data2 = <span class="keyword">await</span> <span class="title function_">fn</span>(<span class="number">1000</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data2)<span class="comment">//1s后执行</span></span><br><span class="line">    <span class="keyword">const</span> data3 = <span class="keyword">await</span> <span class="title function_">fn</span>(<span class="number">3000</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data3)<span class="comment">//3s后执行</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//aysnc await可以这样写， 但是如果调用数量过多，那么就会造成时间浪费。所以可以使用for await of</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后成功`</span>)</span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asuncFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [<span class="title function_">fn</span>(<span class="number">3000</span>), <span class="title function_">fn</span>(<span class="number">1000</span>), <span class="title function_">fn</span>(<span class="number">200</span>),<span class="title function_">fn</span>(<span class="number">50</span>)]</span><br><span class="line">	<span class="keyword">for</span> <span class="title function_">await</span>(<span class="params"><span class="keyword">let</span> x <span class="keyword">of</span> arr</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">asyncFn</span>()</span><br><span class="line"><span class="comment">//3000ms后成功 1000ms后成功 200ms后成功 50ms后成功</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2Promise-finally"><a href="#4-2Promise-finally" class="headerlink" title="4.2Promise.finally"></a>4.2Promise.finally</h3><p><strong>无论失败或者成功状态， 都会执行这个函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(</span><br><span class="line">	<span class="function"><span class="params">res</span> =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125;</span><br><span class="line">).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;finally&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&#x27;Failure&#x27;</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(</span><br><span class="line">	<span class="function"><span class="params">res</span> =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span> =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125;</span><br><span class="line">).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;finally&#x27;</span>)&#125;)</span><br><span class="line"><span class="comment">//如果两个一起运行会输出Success Failure finally finally</span></span><br></pre></td></tr></table></figure>

<h2 id="5-ES10"><a href="#5-ES10" class="headerlink" title="5.ES10"></a>5.ES10</h2><h3 id="5-1Array-prototypr-flat"><a href="#5-1Array-prototypr-flat" class="headerlink" title="5.1Array.prototypr.flat"></a>5.1Array.prototypr.flat</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二维数组转换为一维数组</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">flat</span>())<span class="comment">//[1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用forEach及递归实现</span></span><br><span class="line"><span class="keyword">let</span> newArr = []</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_flat</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    item <span class="keyword">instanceof</span> <span class="title class_">Array</span> ? <span class="title function_">_flat</span>(item) : newArr.<span class="title function_">push</span>(item)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> newArr</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">_flat</span>(arr));</span><br><span class="line"></span><br><span class="line"><span class="comment">//flat(num)num为降维的次数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">flat</span>(<span class="title class_">Infinity</span>))<span class="comment">//[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h3 id="5-2Array-prototype-flatMap"><a href="#5-2Array-prototype-flatMap" class="headerlink" title="5.2Array.prototype.flatMap"></a>5.2Array.prototype.flatMap</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;1 2 3 4 5&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用join split</span></span><br><span class="line">arr = arr.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用split map</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">map</span>(<span class="function"><span class="params">x</span> =&gt;</span> x.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)).<span class="title function_">flat</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用flatMap: flat + map</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">flatMap</span>(<span class="function"><span class="params">x</span> =&gt;</span> x.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>)))</span><br></pre></td></tr></table></figure>

<h3 id="5-3-Object-fromEntries"><a href="#5-3-Object-fromEntries" class="headerlink" title="5.3 Object.fromEntries"></a>5.3 Object.fromEntries</h3><p>[ES8中的entries](# 3.2Object.entries)是把对象转成键值对数组， 而Object.fromEntries是把键值对数组转换为对象.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;qidou&#x27;</span>],</span><br><span class="line">    [<span class="string">&#x27;call&#x27;</span>, <span class="string">&#x27;thisis&#x27;</span>]</span><br><span class="line">]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(arr))</span><br><span class="line"><span class="comment">//&#123; name: &#x27;qidou&#x27;, call: &#x27;thisis&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//它的另一个用法： Map转为对象</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;qidou&#x27;</span>)</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;call&#x27;</span>, <span class="string">&#x27;thisis&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map) <span class="comment">//Map(2) &#123; &#x27;name&#x27; =&gt; &#x27;qidou&#x27;, &#x27;call&#x27; =&gt; &#x27;thisis&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(map)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)<span class="comment">//&#123; name: &#x27;林三心&#x27;, age: 22, gender: &#x27;男&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4String-prototype-trimStart-amp-String-trimEnd"><a href="#5-4String-prototype-trimStart-amp-String-trimEnd" class="headerlink" title="5.4String.prototype.trimStart &amp; String.trimEnd"></a>5.4String.prototype.trimStart &amp; String.trimEnd</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;  Hi    &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 去除首部空格</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">trimStart</span>()) <span class="comment">// &#x27;Hi    &#x27;</span></span><br><span class="line"><span class="comment">// 去除尾部空格</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">trimEnd</span>()) <span class="comment">// &#x27;  Hi&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="6-ES11"><a href="#6-ES11" class="headerlink" title="6.ES11"></a>6.ES11</h2><h3 id="6-1BigInt"><a href="#6-1BigInt" class="headerlink" title="6.1BigInt"></a>6.1BigInt</h3><p>用来表示表示大于 <code>2^53 - 1</code> 的整数，<code>2^53 - 1</code>是JavaScript之前所能表示最大的数字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bigNum = <span class="title class_">BigInt</span>(<span class="number">12412412521635124124</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> bigNum) <span class="comment">// bigint</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2Promise-allSettled"><a href="#6-2Promise-allSettled" class="headerlink" title="6.2Promise.allSettled"></a>6.2Promise.allSettled</h3><ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>把每一个Promise的结果，集合成数组，返回</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time, isResolve</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            isResolved ? <span class="title function_">resolved</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后执行成功`</span>) : <span class="title function_">reject</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后执行失败`</span>)</span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">allSettled</span>([<span class="title function_">fn</span>(<span class="number">2000</span>, <span class="literal">true</span>), <span class="title function_">fn</span>(<span class="number">100</span>)]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//[</span></span><br><span class="line"><span class="comment">//&#123; status: &#x27;fulfilled&#x27;, value: &#x27;2000ms后执行成功&#x27; &#125;,</span></span><br><span class="line"><span class="comment">//&#123; status: &#x27;rejected&#x27;, reason: &#x27;100ms后执行失败&#x27; &#125;</span></span><br><span class="line"><span class="comment">//]</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-amp"><a href="#6-3-amp" class="headerlink" title="6.3 ?. &amp; ??"></a>6.3 ?. &amp; ??</h3><h4 id="中文为可选项"><a href="#中文为可选项" class="headerlink" title="?.中文为可选项"></a><strong>?.<strong>中文为</strong>可选项</strong></h4><p>当需要一个变量， 是数组且有长度，才做某些操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(list &amp;&amp; list.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="comment">//代码块</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用可选项</span></span><br><span class="line"><span class="keyword">const</span> list = [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">if</span>(list?.<span class="property">length</span>) &#123;</span><br><span class="line">   <span class="comment">//代码块</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(list); <span class="comment">// [1]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有一个对象，去一个可能不存在的值，也不清楚obj是否存在</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">cat</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;Miao&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> dog = obj &amp;&amp; obj.<span class="property">dog</span> &amp;&amp; obj.<span class="property">dog</span>.<span class="property">name</span> <span class="comment">// undedined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//可选项</span></span><br><span class="line"><span class="keyword">const</span> dog = obj ?. dog ?. name <span class="comment">// undedined</span></span><br><span class="line"><span class="keyword">const</span> miao = obj ?. cat ?. name <span class="comment">// Miao</span></span><br></pre></td></tr></table></figure>

<p>有一个数组， 不确定它是否存在， 存在就取索引为1的数值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> item = arr ?. [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>有一个函数，如果存在则执行它</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);&#125;</span><br><span class="line"><span class="keyword">const</span> execute = fn ?. ()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(execute) <span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<h4 id="空位合并运算符"><a href="#空位合并运算符" class="headerlink" title="??空位合并运算符"></a>??空位合并运算符</h4><p>??跟||的区别：</p>
<p>|| <strong>false null undefined 0</strong> ‘’都为假</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">0</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">false</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">undefined</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br><span class="line"><span class="keyword">const</span> e = <span class="literal">null</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br></pre></td></tr></table></figure>

<p>?? __null undefined__为假</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">0</span> || <span class="string">&#x27;Hi&#x27;</span> /<span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">false</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//false</span></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">undefined</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br><span class="line"><span class="keyword">const</span> e = <span class="literal">null</span> || <span class="string">&#x27;Hi&#x27;</span> <span class="comment">//Hi</span></span><br></pre></td></tr></table></figure>

<h2 id="7-ES12"><a href="#7-ES12" class="headerlink" title="7.ES12"></a>7.ES12</h2><h3 id="7-1Promise-any"><a href="#7-1Promise-any" class="headerlink" title="7.1Promise.any"></a>7.1Promise.any</h3><ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>如果有一个Promise成功，则返回这个成功结果</li>
<li>如果所有Promise都失败，则报错</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当有成功请求，返回最快的</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time, isResolve</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            isResolve ? <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后成功`</span>) : <span class="title function_">reject</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后失败`</span>)</span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">any</span>([<span class="title function_">fn</span>(<span class="number">2000</span>, <span class="literal">true</span>), <span class="title function_">fn</span>(<span class="number">3000</span>)]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">//2000ms后成功</span></span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//当全都失败</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">time, isResolve</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            isResolve ? <span class="title function_">resolve</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后成功`</span>) : <span class="title function_">reject</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>ms后失败`</span>)</span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">any</span>([<span class="title function_">fn</span>(<span class="number">200</span>, <span class="literal">false</span>), <span class="title function_">fn</span>(<span class="number">3999</span>)]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)<span class="comment">// 3999ms后 会执行这个代码</span></span><br><span class="line">    <span class="comment">//[AggregateError: All promises were rejected]</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="7-2数字分隔符"><a href="#7-2数字分隔符" class="headerlink" title="7.2数字分隔符"></a>7.2数字分隔符</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1_000_000_021</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">//1000000021</span></span><br></pre></td></tr></table></figure>

<h3 id="7-3-x3D-和-amp-amp-x3D"><a href="#7-3-x3D-和-amp-amp-x3D" class="headerlink" title="7.3||&#x3D; 和 &amp;&amp;&#x3D;"></a>7.3||&#x3D; 和 &amp;&amp;&#x3D;</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">或等于(||=)   a ||= b 等同于 a || (a = b);</span><br><span class="line"></span><br><span class="line">且等于(&amp;&amp;=)   a &amp;&amp;= b 等同于 a &amp;&amp; (a = b);</span><br></pre></td></tr></table></figure>

<h1 id="手写代码"><a href="#手写代码" class="headerlink" title="手写代码"></a>手写代码</h1><h2 id="1-看了就会，手写Promise原理，最通俗易懂的版本！！！-掘金-juejin-cn"><a href="#1-看了就会，手写Promise原理，最通俗易懂的版本！！！-掘金-juejin-cn" class="headerlink" title="1.看了就会，手写Promise原理，最通俗易懂的版本！！！ - 掘金 (juejin.cn)"></a>1.<a target="_blank" rel="noopener" href="https://juejin.cn/post/6994594642280857630">看了就会，手写Promise原理，最通俗易懂的版本！！！ - 掘金 (juejin.cn)</a></h2><h2 id="2-new操作过程"><a href="#2-new操作过程" class="headerlink" title="2.new操作过程"></a>2.new操作过程</h2><ul>
<li>新建一个空对象</li>
<li>继承构造函数的原型</li>
<li>将this指向obj， 并调用构造函数</li>
<li>返回对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myNew</span>(<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">    <span class="comment">//1. 创建空对象</span></span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2. 继承构造函数的原型</span></span><br><span class="line">    obj.<span class="property">__proto__</span> = fn.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//3. 将this指向obj， 并调用构造函数</span></span><br><span class="line">    fn.<span class="title function_">call</span>(obj, args)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//4. 返回</span></span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="理解一下JS原生方法的实现过程"><a href="#理解一下JS原生方法的实现过程" class="headerlink" title="理解一下JS原生方法的实现过程"></a>理解一下JS原生方法的实现过程</h1><h2 id="Array方法"><a href="#Array方法" class="headerlink" title="Array方法"></a>Array方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义测试数组</span></span><br><span class="line"><span class="keyword">const</span> phone = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;魅族17&#x27;</span>, <span class="attr">price</span>: <span class="number">1799</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;魅族18s&#x27;</span>, <span class="attr">price</span>: <span class="number">2699</span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h3 id="Array-prototype-forEach"><a href="#Array-prototype-forEach" class="headerlink" title="Array.prototype.forEach"></a>Array.prototype.forEach</h3><p><strong>用处：</strong>数组循环</p>
<ul>
<li><p>item - 遍历项  </p>
</li>
<li><p>index - 索引下标</p>
</li>
<li><p>arr - 数组本身</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_forEach</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试方法</span></span><br><span class="line">phone.<span class="title function_">_forEach</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item, index)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//&#123; name: &#x27;魅族17&#x27;, price: 1799 &#125; 0</span></span><br><span class="line"><span class="comment">//&#123; name: &#x27;魅族18S&#x27;, price: 2699 &#125; 1</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="Array.prototype.map"></a>Array.prototype.map</h3><p><strong>用处：</strong>数据处理</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_map</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(<span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_map</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;item.name&#125;</span>--<span class="subst">$&#123;item.price&#125;</span>--<span class="subst">$&#123;index&#125;</span>`</span></span><br><span class="line">&#125;))</span><br><span class="line"><span class="comment">//[ &#x27;魅族17--1799--0&#x27;, &#x27;魅族18s--2699--1&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-filter"><a href="#Array-prototype-filter" class="headerlink" title="Array.prototype.filter"></a>Array.prototype.filter</h3><p><strong>用处：</strong>筛选数据</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_filter</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>) &amp;&amp; res.<span class="title function_">push</span>(<span class="variable language_">this</span>[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_filter</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">price</span> &gt; <span class="number">2000</span></span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">//[ &#123; name: &#x27;魅族18s&#x27;, price: 2699 &#125; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-every"><a href="#Array-prototype-every" class="headerlink" title="Array.prototype.every"></a>Array.prototype.every</h3><p><strong>用处：</strong>所有数值符合要求返回true</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_every</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        flag = <span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)</span><br><span class="line">        <span class="keyword">if</span>(!flag)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_every</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">price</span> &gt; <span class="number">1000</span></span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-some"><a href="#Array-prototype-some" class="headerlink" title="Array.prototype.some"></a>Array.prototype.some</h3><p><strong>用处：</strong>有一项数据为目标则返回true</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_some</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123; </span><br><span class="line">        flag = <span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)</span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_some</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">price</span> &gt; <span class="number">2000</span></span><br><span class="line">&#125;));</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-reduce"><a href="#Array-prototype-reduce" class="headerlink" title="Array.prototype.reduce"></a>Array.prototype.reduce</h3><p><strong>用处：</strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/hzxOnlineOk/article/details/120561855">简单求和， 出现次数 数组去重 数组降维 属性求和</a></p>
<ul>
<li>pre：前一项</li>
<li>next：下一项</li>
<li>index：当前索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_reduce</span> = <span class="keyword">function</span>(<span class="params">callback,...args</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> start = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> pre</span><br><span class="line">    <span class="keyword">if</span>(args.<span class="property">length</span>) &#123;</span><br><span class="line">        pre = args[<span class="number">0</span>]</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        pre = <span class="variable language_">this</span>[<span class="number">0</span>]</span><br><span class="line">        start = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = start; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        pre = <span class="title function_">callback</span>(pre, <span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> pre</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_reduce</span>(<span class="function">(<span class="params">pre, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pre + next.<span class="property">price</span></span><br><span class="line">&#125;, <span class="number">0</span>))</span><br><span class="line"><span class="comment">// 4498</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-findIndex"><a href="#Array-prototype-findIndex" class="headerlink" title="Array.prototype.findIndex"></a>Array.prototype.findIndex</h3><p><strong>用处：</strong>查找目标项索引</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_findIndex</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)) &#123;</span><br><span class="line">         <span class="keyword">return</span> i</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_findIndex</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">name</span> === <span class="string">&#x27;魅族17&#x27;</span> &amp;&amp; item.<span class="property">price</span> === <span class="number">1799</span></span><br><span class="line">&#125;))</span><br><span class="line"><span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-find"><a href="#Array-prototype-find" class="headerlink" title="Array.prototype.find"></a>Array.prototype.find</h3><p><strong>用处：</strong>查找目标项</p>
<ul>
<li>item：遍历项</li>
<li>index：遍历项的索引</li>
<li>arr：数组本身</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_find</span> = <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_">callback</span>(<span class="variable language_">this</span>[i], i, <span class="variable language_">this</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_find</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item.<span class="property">price</span> &lt; <span class="number">3000</span></span><br><span class="line">&#125;))</span><br><span class="line"><span class="comment">//&#123; name: &#x27;魅族17&#x27;, price: 1799 &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-fill"><a href="#Array-prototype-fill" class="headerlink" title="Array.prototype.fill"></a>Array.prototype.fill</h3><p><strong>用处：</strong>填充数组</p>
<ul>
<li>initValue：填充的值</li>
<li>start：开始填充索引，默认0</li>
<li>end：结束填充索引，默认length</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_fill</span> = <span class="keyword">function</span>(<span class="params">value, start, end</span>) &#123;</span><br><span class="line">    end = end || <span class="variable language_">this</span>.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        <span class="variable language_">this</span>[i] = value</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(phone.<span class="title function_">_fill</span>(<span class="string">&#x27;Hi&#x27;</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment">//[ &#123; name: &#x27;魅族17&#x27;, price: 1799 &#125;, &#123; name: &#x27;魅族18s&#x27;, price: 2699 &#125;, &#x27;Hi&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes"></a>Array.prototype.includes</h3><p><strong>用处：</strong>查找元素，查到返回<code>true</code>，反之返回<code>false</code>，可查找<code>NaN</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_includes</span> = <span class="keyword">function</span>(<span class="params">value, start = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        start = <span class="variable language_">this</span>.<span class="property">length</span> + start</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">isNaN</span> = <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(value)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = start; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>[i] === value || (<span class="built_in">isNaN</span> &amp;&amp; <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="variable language_">this</span>[i]))) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">_includes</span>(<span class="number">2</span>))<span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="title class_">NaN</span>].<span class="title function_">_includes</span>(<span class="title class_">NaN</span>))<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-join"><a href="#Array-prototype-join" class="headerlink" title="Array.prototype.join"></a>Array.prototype.join</h3><p><strong>用处：</strong>将数组用分隔符拼成字符串，分隔符默认为<code>,</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_join</span> = <span class="keyword">function</span>(<span class="params">s = <span class="string">&#x27;,&#x27;</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        str = i === <span class="number">0</span> ? <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;<span class="variable language_">this</span>[i]&#125;</span>`</span> : <span class="string">`<span class="subst">$&#123;str&#125;</span><span class="subst">$&#123;s&#125;</span><span class="subst">$&#123;<span class="variable language_">this</span>[i]&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">_join</span>())<span class="comment">// 1,2,3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">_join</span>(<span class="string">&#x27;-&#x27;</span>))<span class="comment">//1-2-3</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-flat"><a href="#Array-prototype-flat" class="headerlink" title="Array.prototype.flat"></a>Array.prototype.flat</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_flat</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="variable language_">this</span></span><br><span class="line">    <span class="keyword">while</span>(arr.<span class="title function_">some</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title class_">Array</span>.<span class="title function_">isArray</span>(item))) &#123;</span><br><span class="line">        arr = [].<span class="title function_">concat</span>(...arr)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testArr = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>], <span class="number">6</span>], [<span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testArr.<span class="title function_">_flat</span>())</span><br><span class="line"><span class="comment">//[</span></span><br><span class="line"><span class="comment">//  1, 2, 3, 4,</span></span><br><span class="line"><span class="comment">//  6, 8, 9</span></span><br><span class="line"><span class="comment">//]</span></span><br></pre></td></tr></table></figure>

<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries"></a>Object.entries</h3><p><strong>用处：</strong>将对象转成键值对数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">_entries</span> = <span class="keyword">function</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      obj.<span class="title function_">hasOwnProperty</span>(key) &amp;&amp; res.<span class="title function_">push</span>([key, obj[key]])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">_entries</span>(obj))</span><br><span class="line"><span class="comment">//[ [ &#x27;name&#x27;, &#x27;qidou&#x27; ], [ &#x27;gender&#x27;, &#x27;male&#x27; ] ]</span></span><br></pre></td></tr></table></figure>



<h3 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries"></a>Object.fromEntries</h3><p><strong>用处：</strong>跟<code>entries</code>相反，将键值对数组转成对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property">_fromEntries</span> = <span class="keyword">function</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> [key, value] = arr[i]</span><br><span class="line">        obj[key] = value</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">_fromEntries</span>([ [ <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;qidou&#x27;</span> ], [ <span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;male&#x27;</span> ] ]))</span><br><span class="line"><span class="comment">//&#123; name: &#x27;qidou&#x27;, gender: &#x27;male&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys"></a>Object.keys</h3><p><strong>用处：</strong>将对象的key转成一个数组合集</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">_keys</span> = <span class="keyword">function</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        obj.<span class="title function_">hasOwnProprty</span>(key) &amp;&amp; keys.<span class="title function_">push</span>(key)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> keys</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj))</span><br><span class="line"><span class="comment">//[ &#x27;name&#x27;, &#x27;gender&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values"></a>Object.values</h3><p><strong>用处：</strong>将对象的所有值转成数组合集</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">_values</span> = <span class="keyword">function</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> values = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        obj.<span class="title function_">hasOwnProperty</span>(key) &amp;&amp; values.<span class="title function_">push</span>(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> values</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">_values</span>(obj))</span><br><span class="line"><span class="comment">//[ &#x27;qidou&#x27;, &#x27;male&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="instanceOf"><a href="#instanceOf" class="headerlink" title="instanceOf"></a>instanceOf</h3><p><strong>用处：</strong>A instanceOf B，判断A是否经过B的原型链</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">_instanceOf</span>(<span class="params">father, child</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> fp = father.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">  <span class="keyword">var</span> cp = child.<span class="property">__proto__</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span>(cp) &#123;</span><br><span class="line">    <span class="keyword">if</span>(cp === fp) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    cp = cp.<span class="property">__proto__</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> names = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;qidou&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">_instanceOf</span>(<span class="title class_">Person</span>, names));</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="is"><a href="#is" class="headerlink" title="is"></a>is</h3><p><strong>用处：</strong>Object.is(a, b)判断a是否等于b</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">_is</span> = <span class="keyword">function</span>(<span class="params">one, theOther</span>) &#123;	</span><br><span class="line">    <span class="keyword">if</span>(one === theOther) &#123;</span><br><span class="line">        <span class="comment">//防止-0 和 +0</span></span><br><span class="line">        <span class="keyword">return</span> one !== <span class="number">0</span> || <span class="number">1</span> / one === <span class="number">1</span> / theOther</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//防止NaN</span></span><br><span class="line">    <span class="keyword">return</span> one !== one &amp;&amp; theOther !== theOther</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = &#123;<span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">const</span> b = a</span><br><span class="line"><span class="keyword">const</span> c = &#123;<span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">_is</span>(a, b))<span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">_is</span>(a, c))<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><h3 id="Function-prototype-call"><a href="#Function-prototype-call" class="headerlink" title="Function.prototype.call"></a>Function.prototype.call</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_call</span> = <span class="keyword">function</span>(<span class="params">obj, ...agrs</span>) &#123;</span><br><span class="line">    obj = obj || <span class="variable language_">window</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Symbol唯一性，防止key重名</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>()</span><br><span class="line">    obj[fn] = <span class="variable language_">this</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> obj[fn](...args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>,</span><br><span class="line">    <span class="title function_">testFn</span>(<span class="params">age</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,你<span class="subst">$&#123;age&#125;</span>岁了`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;coder&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testobj.<span class="property">testFn</span>.<span class="title function_">_call</span>(testobj2, <span class="number">22</span>)</span><br><span class="line"><span class="comment">//coder,你22岁了</span></span><br></pre></td></tr></table></figure>

<h3 id="Function-prototype-apply"><a href="#Function-prototype-apply" class="headerlink" title="Function.prototype.apply"></a>Function.prototype.apply</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_apply</span> = <span class="keyword">function</span>(<span class="params">obj, args</span>) &#123;</span><br><span class="line">    obj = obj || <span class="variable language_">window</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> fn = <span class="title class_">Symbol</span>()</span><br><span class="line">    obj[fn] = <span class="variable language_">this</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> obj[fn](...args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;qidou&#x27;</span>,</span><br><span class="line">    <span class="title function_">testFn</span>(<span class="params">age</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,你<span class="subst">$&#123;age&#125;</span>岁了`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> testobj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;coder&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">testobj.<span class="property">testFn</span>.<span class="title function_">_call</span>(testobj2, <span class="number">22</span>)</span><br><span class="line"><span class="comment">////coder,你22岁了</span></span><br></pre></td></tr></table></figure>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;qidou&#x27;</span></span><br></pre></td></tr></table></figure>



<h3 id="String-prototype-slice"><a href="#String-prototype-slice" class="headerlink" title="String.prototype.slice"></a>String.prototype.slice</h3><p>参数代表含义</p>
<ul>
<li>start：开始截取的字符索引(包含此字符)</li>
<li>end：结束截取的字符索引(不包含此字符) 注意点</li>
<li>start &gt; end：返回空字符串</li>
<li>start &lt; 0：<code>start = 数组长度 + start</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_slice</span> = <span class="keyword">function</span>(<span class="params">start = <span class="number">0</span>, end</span>) &#123;</span><br><span class="line">    start = start &lt; <span class="number">0</span> ? <span class="variable language_">this</span>.<span class="property">length</span> + start : start</span><br><span class="line">    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="variable language_">this</span>.<span class="property">length</span> : end</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(start &gt;= end) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        str += str[i]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">_slice</span>(<span class="number">2</span>, <span class="number">3</span>)) <span class="comment">//do</span></span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-substr"><a href="#String-prototype-substr" class="headerlink" title="String.prototype._substr"></a>String.prototype._substr</h3><p>参数代表含义</p>
<ul>
<li>start：开始截取的字符索引(包含此字符)</li>
<li>length：截取的长度 注意点</li>
<li>start &lt; 0：<code>start = 数组长度 + start</code></li>
<li>length超出所能截取范围，需要做处理</li>
<li>length &lt; 0：返回空字符串</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_substr</span> = <span class="keyword">function</span>(<span class="params">start = <span class="number">0</span>, length</span>) &#123;</span><br><span class="line">    start = start &lt; <span class="number">0</span> ? start + <span class="variable language_">this</span>.<span class="property">length</span>: start</span><br><span class="line">    length = (!length &amp;&amp; length !== <span class="number">0</span>) || length &gt; <span class="variable language_">this</span>.<span class="property">length</span> - start ? <span class="variable language_">this</span>.<span class="property">length</span> : start + length</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = start; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        str += <span class="variable language_">this</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">_substr</span>(<span class="number">3</span>))</span><br><span class="line"><span class="comment">//ou</span></span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-substring"><a href="#String-prototype-substring" class="headerlink" title="String.prototype._substring"></a>String.prototype._substring</h3><p>功能与<code>slice</code>大致相同</p>
<p>区别之处</p>
<ul>
<li>start &gt; end：互换值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_substring</span> = <span class="keyword">function</span> (<span class="params">start = <span class="number">0</span>, end</span>) &#123;</span><br><span class="line">    start = start &lt; <span class="number">0</span> ? <span class="variable language_">this</span>.<span class="property">length</span> + start : start</span><br><span class="line">    end = !end &amp;&amp; end !== <span class="number">0</span> ? <span class="variable language_">this</span>.<span class="property">length</span> : end</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end) [start, end] = [end, start]</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        str += <span class="variable language_">this</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// d</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(-<span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// qidou</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(-<span class="number">9</span>, <span class="number">10</span>)) <span class="comment">// qidou</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">5</span>, <span class="number">1</span>)) <span class="comment">// idou</span></span><br></pre></td></tr></table></figure>


                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ZhaoX</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://qidou.club/2022/09/25/Js%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/">http://qidou.club/2022/09/25/Js%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ZhaoX</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/JavaScript/">
                                    <span class="chip bg-color">JavaScript</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2022/09/25/Js%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="JS深入学习">
                        
                        <span class="card-title">JS深入学习</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-09-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZhaoX
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/JavaScript/">
                        <span class="chip bg-color">JavaScript</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/09/16/%E4%BA%94%E3%80%81%E8%B7%A8%E5%9F%9F/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="跨域引用">
                        
                        <span class="card-title">跨域引用</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-09-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZhaoX
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%B7%A8%E5%9F%9F/">
                        <span class="chip bg-color">跨域</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2022</span>
            
            <a href="/about" target="_blank">ZhaoX</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
                <span id="icp"><img src="/medias/icp.png"
                                    style="vertical-align: text-bottom;"/>
                <a href="https://beian.miit.gov.cn/" target="_blank">晋ICP备2022000163号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Reqidou" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1474757780@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1474757780" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1474757780" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>





    <a href="https://www.zhihu.com/people/qi-dou-27" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/qi-dou-27" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
